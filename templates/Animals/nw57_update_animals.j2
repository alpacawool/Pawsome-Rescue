{#
Routes: /edit-animals
Entity: Animals, Shelters
Functions: SELECT all Animals
           SELECT Shelters by id
Relationships: M:1 relationship between Animals and Shelters
#}

{% extends "nw57_layout.j2" %}

{# track current page #}
{% set active_page = 'settings' %}

{% block title %}Pawsome Animal Rescue - Update Animals{% endblock title %} 
{% block body_content %}
<br>
<h2>Edit Animals</h2>
<br>

<a href="/settings"><button class="btn btn-secondary">Back to Settings</button></a> 
<a href="/animals"><button class="btn btn-secondary">Filter Animals</button></a>
<a href="/insert-animal"><button class="btn btn-success">Add Animal</button></a>
<br><br>

{% for message in get_flashed_messages() %}
  <div id="update-success">
      {{ message }}
  </div>
{% endfor %}

<table class="table">
    <thead>
        <tr>
            <th scope="col">Animal ID</th>
            <th scope="col">Name</th>
            <th scope="col">Shelter</th>
            <th scope="col">Gender</th>
            <th scope="col">Species</th>
            <th scope="col">Breed</th>
            <th scope="col"></th>
        </tr>
    </thead>
    <tbody>
        {% for animal in animals_data %}
            <tr>
                <td>{{animal.id}}</td>
                <td>{{animal.animal_name}}</td>
                <td>{{animal.shelter_name}}</td>
                <td>{{animal.gender}}</td>
                <td>{{animal.species_type}}</td>
                <td>{{animal.breed}}</td>
                <td><form action="/edit-animals/{{animal.id}}" method="POST">
                <button type="submit" class="btn btn-primary">Edit</button></form></td>
            </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock body_content %}